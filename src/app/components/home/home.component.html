<!-- Araç Bulma Alanı -->
<app-car-search-form [alisOfisiOptions]="alisOfisiOptions" [iadeOfisiOptions]="iadeOfisiOptions"
  [customerType]="customerType" (search)="navigateToCarList($event)">
</app-car-search-form>

<!-- Sık Tercih Edilen Şehirler -->
<div class="card-section">
  <h2 class="section-title">Sık Tercih Edilen Şehirler</h2>

  <div class="city-grid">
    <div class="city-card" (click)="openCityPopup('İstanbul')">
      <img src="assets/images/istanbul.jpg" alt="İstanbul">
      <div class="city-card__overlay">
        <span class="city-card__name">İstanbul</span>
      </div>
    </div>

    <div class="city-card" (click)="openCityPopup('Ankara')">
      <img src="assets/images/ankara.jpg" alt="Ankara">
      <div class="city-card__overlay">
        <span class="city-card__name">Ankara</span>
      </div>
    </div>

    <div class="city-card" (click)="openCityPopup('İzmir')">
      <img src="assets/images/izmir.jpg" alt="İzmir">
      <div class="city-card__overlay">
        <span class="city-card__name">İzmir</span>
      </div>
    </div>
  </div>
</div>

<!-- Araç Segmentleri -->
<div class="card-section">
  <h2 class="section-title">Araç Sınıfları</h2>
  <div class="card-container">
    <div *ngFor="let segment of segments" class="segment-card">
      <div class="segment-header">
        <h3 class="segment-name">{{ segment.segmentName }}</h3>
      </div>
      <div class="segment-image">
        <img [src]="'assets/images/lux.jpg'" [alt]="segment.segmentName">
      </div>
      <div class="segment-content">
        <p class="price-text">
          <strong>{{ getSegmentPrice(segment.segmentId) }}</strong> 'den başlayan fiyatlarla
        </p>
        <button class="segment-button" (click)="openSegmentPopup(segment.segmentName)">
          Hemen Kirala
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Segment Popup -->
<div class="popup-overlay" *ngIf="showSegmentPopup">
  <app-car-search-form [alisOfisiOptions]="alisOfisiOptions" [iadeOfisiOptions]="iadeOfisiOptions"
    [customerType]="customerType" [showCloseButton]="true" (search)="navigateToCarList($event)"
    (close)="closeSegmentPopup()">
  </app-car-search-form>
</div>

<!-- Şehir Popup -->
<div class="popup-overlay" *ngIf="showCityPopup">
  <app-car-search-form [alisOfisiOptions]="cityLocations" [iadeOfisiOptions]="cityLocations"
    [customerType]="customerType" [showCloseButton]="true" (search)="navigateToCarList($event)"
    (close)="closeCityPopup()">
  </app-car-search-form>
</div>